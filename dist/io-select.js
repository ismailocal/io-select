!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.ioSelect=t(require("jquery")):e.ioSelect=t(e.jQuery)}(this,(e=>(()=>{"use strict";var t={914:t=>{t.exports=e}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};r.d(n,{default:()=>d});var o=r(914),i=r.n(o);const d=function(){if(void 0!==i())return i().fn.ioSelect=function(e){if("string"==typeof e){var t=e;return"destroy"===t?this.each((function(){var e=i()(this),t=e.next(".io-select-container");t.find("*").off(),t.off(),i()(document).off("click.io-select."+e.attr("id")),t.remove(),e.show(),e.removeData("io-select-initialized")})):(console.error("IO Select: Method ".concat(t," does not exist")),this)}var a=i().extend({},{placeholder:"Make a selection",searchPlaceholder:"Search...",noResultsText:"No results found",searchable:!0,ajax:null,initialSelected:null},e);return this.each((function(){var e=i()(this);e.data("io-select-initialized")&&e.ioSelect("destroy"),e.data("io-select-initialized",!0);var t,r,n=e.prop("multiple"),o=Array.from(e.find("option")).map((function(e){return{id:e.value,name:e.text}})).filter((function(e){return""!==e.id})),d=i()("<div>").addClass("io-select-container relative"),l=i()("<div>").addClass("\n                flex items-center justify-between bg-gray-50\n                border border-gray-300 text-gray-900 text-sm rounded-lg\n                focus:ring-blue-500 focus:border-blue-500 w-full p-2.5\n                dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\n                dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\n                cursor-pointer\n            ").attr({role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":"io-select-dropdown-"+e.attr("id"),tabindex:"0"}),c=i()("<div>").addClass("flex flex-wrap gap-1"),s=i()('\n                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\n                </svg>\n            '),p=i()("<div>").addClass("\n                absolute z-10 mt-1 w-full bg-white border border-gray-300\n                rounded-lg shadow-lg dark:bg-gray-700 dark:border-gray-600\n                max-h-60 overflow-y-auto hidden\n            ").attr({id:"io-select-dropdown-"+e.attr("id"),role:"listbox","aria-multiselectable":n?"true":"false"}),u=null;if(a.searchable){var f=i()("<div>").addClass("p-2 sticky top-0 bg-white dark:bg-gray-700 z-10 border-b");u=i()("<input>").addClass("\n                    text-sm w-full p-2 border border-gray-300 rounded-md\n                    dark:bg-gray-600 dark:border-gray-500 dark:text-white\n                    focus:outline-none focus:ring-0 focus:border-blue-500\n                ").attr({type:"text",placeholder:a.searchPlaceholder}),f.append(u),p.append(f),a.ajax&&a.ajax.url?u.on("keyup",(t=function(){g(i()(this).val().toLowerCase())},function(){for(var e=this,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];clearTimeout(r),r=setTimeout((function(){return t.apply(e,n)}),300)})):u.on("keyup",(function(){y(i()(this).val().toLowerCase())}))}var v=i()("<ul>").addClass("py-1");p.append(v);var x=!1;function h(){c.empty();var t=Array.from(e.find("option:selected")).map((function(e){return{id:e.value,name:e.text}})),r=t.some((function(e){return""!==e.id}));if(r?t.forEach((function(t){if(""!==t.id){var r=i()("<div>").addClass("\n                            bg-blue-100 text-blue-800 text-xs font-medium\n                            px-2 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300\n                            flex items-center\n                        ");r.append(i()("<span>").text(t.name));var o=i()("<button>").addClass("ml-1 text-xs font-bold").text("×");o.on("click",(function(r){r.stopPropagation(),function(t){if(e.find('option[value="'.concat(t,'"]')).prop("selected",!1),!n&&a.ajax&&a.ajax.url){var r=e.find('option[value=""]');0===r.length&&(r=i()("<option>").val("").text(""),e.prepend(r)),e.find("option").prop("selected",!1),r.prop("selected",!0)}h(),p.hasClass("hidden")||y(a.searchable&&u?u.val().toLowerCase():"")}(t.id)})),r.append(o),c.append(r)}})):c.append(i()("<span>").addClass("text-gray-400").text(a.placeholder)),!n){var o=e.find("option:selected");r&&""!==o.val()||(e.find("option").prop("selected",!1),e.find('option[value=""]').prop("selected",!0))}e.trigger("change")}function y(t){var r;if(v.empty(),a.ajax&&a.ajax.url){if(r=o,x){var d=i()("<li>").addClass("text-sm px-3 py-2 text-gray-500 dark:text-gray-400 cursor-default text-center").text("Yükleniyor...");return void v.append(d)}if(0===r.length){var l=i()("<li>").addClass("\n                            text-sm px-3 py-2 text-gray-500 dark:text-gray-400\n                            cursor-default text-center\n                        ").text(a.noResultsText);return void v.append(l)}}else r=o.filter((function(e){var a=e.name||e.title||"";return!t||a.toLowerCase().includes(t.toLowerCase())}));r.forEach((function(t){var a=function(t){var a=void 0!==t.id&&null!==t.id?t.id:"",r=i()("<li>").addClass("\n                    text-sm px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-600\n                    cursor-pointer flex items-center\n                ").attr({role:"option","aria-selected":"false",id:"io-select-option-".concat(e.attr("id"),"-").concat(a)}),d=null;if(n){d=i()("<input>").attr({type:"checkbox",class:"mr-2","aria-hidden":"true"});var l=e.find('option[value="'.concat(a,'"]')).prop("selected");d.prop("checked",!!l),r.attr("aria-selected",(!!l).toString()),r.append(d)}else{var c=e.find('option[value="'.concat(a,'"]')).prop("selected");r.attr("aria-selected",(!!c).toString())}var s=i()("<span>").text(t.name||t.title||"");return r.append(s),r.on("click",(function(){if(function(t){if(""!==t){var a=e.find('option[value="'.concat(t,'"]'));if(0===a.length){var r=o.find((function(e){return String(e.id)===String(t)})),d=r&&(r.name||r.title)||t;a=i()("<option>").val(t).text(d),e.append(a)}var l=e.find('option[value="'.concat(t,'"]')).prop("selected");n?a.prop("selected",!l):(l?(e.find("option").prop("selected",!1),e.find('option[value=""]').prop("selected",!0)):(e.find("option").prop("selected",!1),a.prop("selected",!0)),m()),h()}}(a),n&&d){var t=e.find('option[value="'.concat(a,'"]')).prop("selected");d.prop("checked",!!t)}var l=e.find('option[value="'.concat(a,'"]')).prop("selected");r.attr("aria-selected",(!!l).toString())})),r}(t);v.append(a)}))}function g(e){var t=a.ajax,r=t.method||"GET",n=t.dataKey||"data",d=t.queryParam||"q",l=t.url,c={};c[d]=e,v.empty(),x=!0,y(e),i().ajax({url:l,method:r,data:c,success:function(t){var a=t;n&&t[n]&&(a=t[n]),o=a.map((function(e){return{id:e.id,name:e.name||e.title}})),x=!1,y(e)},error:function(){v.empty();var e=i()("<li>").addClass("text-sm px-3 py-2 text-red-500 cursor-default text-center").text("Bir hata oluştu");v.append(e),x=!1}})}function b(){var e=!p.hasClass("hidden");if(p.toggleClass("hidden"),l.attr("aria-expanded",(!e).toString()),!e){var t=a.searchable&&u?u.val().toLowerCase():"";a.ajax&&a.ajax.url&&(u.data("ajax-initial-loaded")||(g(""),u.data("ajax-initial-loaded",!0))),y(t),a.searchable&&u&&setTimeout((function(){return u.focus()}),0)}}function m(){p.addClass("hidden"),l.attr("aria-expanded","false")}if(l.on("keydown",(function(e){switch(e.keyCode){case 13:case 32:e.preventDefault(),b();break;case 27:p.hasClass("hidden")||(e.preventDefault(),m())}})),l.on("click",b),i()(document).on("click.io-select."+e.attr("id"),(function(e){i()(e.target).closest(".io-select-container").length||m()})),l.append(c).append(s),d.append(l).append(p),e.hide().after(d),h(),a.initialSelected){if(n&&Array.isArray(a.initialSelected))a.initialSelected.forEach((function(t){if(t&&t.id){var a=e.find('option[value="'.concat(t.id,'"]'));0===a.length&&(a=i()("<option>").val(t.id).text(t.name||t.title||t.id),e.append(a)),a.prop("selected",!0)}}));else if(!n&&a.initialSelected&&a.initialSelected.id){var k=a.initialSelected,w=e.find('option[value="'.concat(k.id,'"]'));0===w.length&&(w=i()("<option>").val(k.id).text(k.name||k.title||k.id),e.append(w)),e.find("option").prop("selected",!1),w.prop("selected",!0)}h()}}))},i().fn.ioSelect;console.error("IO Select requires jQuery")}();return n.default})()));